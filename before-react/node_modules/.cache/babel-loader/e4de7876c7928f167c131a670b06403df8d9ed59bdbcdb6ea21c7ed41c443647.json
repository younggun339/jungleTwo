{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/NMM/react-frontend/src/components/Video.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Video = ({\n  peer,\n  peers,\n  myIndexRef,\n  onLoaded\n}) => {\n  _s();\n  const ref = useRef(null);\n  useEffect(() => {\n    peer.on(\"stream\", stream => {\n      if (ref.current) {\n        ref.current.srcObject = stream;\n        if (onLoaded) {\n          onLoaded();\n        }\n      }\n    });\n    return () => {\n      peer.removeAllListeners(\"stream\");\n    };\n  }, [peer, peers]);\n  return /*#__PURE__*/_jsxDEV(\"video\", {\n    id: myIndexRef === 0 ? \"video-container-2\" : \"video-container-1\",\n    autoPlay: true,\n    playsInline: true,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(Video, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = Video;\nexport default Video;\nvar _c;\n$RefreshReg$(_c, \"Video\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","Video","peer","peers","myIndexRef","onLoaded","_s","ref","on","stream","current","srcObject","removeAllListeners","id","autoPlay","playsInline","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ubuntu/NMM/react-frontend/src/components/Video.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport Peer from \"simple-peer\";\nimport { PeerObject } from '../hooks/useWebRTC';\n\ninterface VideoProps {\n  peer: Peer.Instance;\n  peers: PeerObject[];\n  myIndexRef: number;\n  onLoaded?: () => void;\n}\n\nconst Video: React.FC<VideoProps> = ({ peer, peers, myIndexRef, onLoaded }) => {\n  const ref = useRef<HTMLVideoElement>(null);\n\n  useEffect(() => {\n    peer.on(\"stream\", (stream: MediaStream) => {\n      if (ref.current) {\n        ref.current.srcObject = stream;\n        if (onLoaded) {\n          onLoaded();\n        }\n      }\n    });\n\n    return () => {\n      peer.removeAllListeners(\"stream\");\n    };\n  }, [peer, peers]);\n\n  return (\n    <video\n      id={myIndexRef === 0 ? \"video-container-2\" : \"video-container-1\"}\n      autoPlay\n      playsInline\n      ref={ref}\n    />\n  );\n};\n\nexport default Video;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAWjD,MAAMC,KAA2B,GAAGA,CAAC;EAAEC,IAAI;EAAEC,KAAK;EAAEC,UAAU;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7E,MAAMC,GAAG,GAAGT,MAAM,CAAmB,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACdK,IAAI,CAACM,EAAE,CAAC,QAAQ,EAAGC,MAAmB,IAAK;MACzC,IAAIF,GAAG,CAACG,OAAO,EAAE;QACfH,GAAG,CAACG,OAAO,CAACC,SAAS,GAAGF,MAAM;QAC9B,IAAIJ,QAAQ,EAAE;UACZA,QAAQ,CAAC,CAAC;QACZ;MACF;IACF,CAAC,CAAC;IAEF,OAAO,MAAM;MACXH,IAAI,CAACU,kBAAkB,CAAC,QAAQ,CAAC;IACnC,CAAC;EACH,CAAC,EAAE,CAACV,IAAI,EAAEC,KAAK,CAAC,CAAC;EAEjB,oBACEH,OAAA;IACEa,EAAE,EAAET,UAAU,KAAK,CAAC,GAAG,mBAAmB,GAAG,mBAAoB;IACjEU,QAAQ;IACRC,WAAW;IACXR,GAAG,EAAEA;EAAI;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEN,CAAC;AAACb,EAAA,CA1BIL,KAA2B;AAAAmB,EAAA,GAA3BnB,KAA2B;AA4BjC,eAAeA,KAAK;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}