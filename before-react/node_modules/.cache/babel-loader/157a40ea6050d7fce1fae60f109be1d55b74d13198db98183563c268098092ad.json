{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { Engine, Render, World } from \"matter-js\";\nimport { initializeGameObjects } from \"../utils/initializeGameObjects\";\nconst useMatterSetup = refs => {\n  _s();\n  const {\n    canvasSize,\n    sceneRef,\n    videoRef,\n    engineRef,\n    leftArmLeftRef,\n    rightHand1RightRef,\n    rightHand2RightRef,\n    mouseRef,\n    bombRef,\n    flaskSocketRef,\n    nestjsSocketRef\n  } = refs;\n  useEffect(() => {\n    const engine = engineRef.current;\n    const render = Render.create({\n      element: document.getElementById(\"matter-container\"),\n      engine: engine,\n      options: {\n        width: canvasSize.x,\n        height: canvasSize.y,\n        wireframes: false,\n        background: \"transparent\"\n      }\n    });\n    if (!engine.world) {\n      console.error(\"World not initialized\");\n      return;\n    }\n    initializeGameObjects(engine, {\n      canvasSize,\n      mouseRef,\n      bombRef,\n      leftArmLeftRef,\n      rightHand1RightRef,\n      rightHand2RightRef\n    });\n    Render.run(render);\n    return () => {\n      flaskSocketRef.current.disconnect();\n      nestjsSocketRef.current.disconnect();\n      Render.stop(render);\n      World.clear(engine.world);\n      Engine.clear(engine);\n      render.canvas.remove();\n      render.canvas = null;\n      render.context = null;\n    };\n  }, []);\n};\n_s(useMatterSetup, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useMatterSetup;","map":{"version":3,"names":["useEffect","Engine","Render","World","initializeGameObjects","useMatterSetup","refs","_s","canvasSize","sceneRef","videoRef","engineRef","leftArmLeftRef","rightHand1RightRef","rightHand2RightRef","mouseRef","bombRef","flaskSocketRef","nestjsSocketRef","engine","current","render","create","element","document","getElementById","options","width","x","height","y","wireframes","background","world","console","error","run","disconnect","stop","clear","canvas","remove","context"],"sources":["/home/ubuntu/NMM/react-frontend/src/hooks/useMatterSetup.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { Engine, Render, World } from \"matter-js\";\nimport { initializeGameObjects } from \"../utils/initializeGameObjects\";\n\nconst useMatterSetup = (refs) => {\n  const {\n    canvasSize,\n    sceneRef,\n    videoRef,\n    engineRef,\n    leftArmLeftRef,\n    rightHand1RightRef,\n    rightHand2RightRef,\n    mouseRef,\n    bombRef,\n    flaskSocketRef,\n    nestjsSocketRef\n  } = refs;\n\n  useEffect(() => {\n    const engine = engineRef.current;\n\n    const render = Render.create({\n      element: document.getElementById(\"matter-container\"),\n      engine: engine,\n      options: {\n        width: canvasSize.x,\n        height: canvasSize.y,\n        wireframes: false,\n        background: \"transparent\",\n      },\n    });\n\n    if (!engine.world) {\n      console.error(\"World not initialized\");\n      return;\n    }\n\n    initializeGameObjects(\n      engine,\n      { canvasSize, mouseRef, bombRef, leftArmLeftRef, rightHand1RightRef, rightHand2RightRef }\n    );\n\n    Render.run(render);\n\n    return () => {\n      flaskSocketRef.current.disconnect();\n      nestjsSocketRef.current.disconnect();\n      Render.stop(render);\n      World.clear(engine.world);\n      Engine.clear(engine);\n      render.canvas.remove();\n      render.canvas = null;\n      render.context = null;\n    };\n  }, []);\n};\n\nexport default useMatterSetup;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,MAAM,EAAEC,MAAM,EAAEC,KAAK,QAAQ,WAAW;AACjD,SAASC,qBAAqB,QAAQ,gCAAgC;AAEtE,MAAMC,cAAc,GAAIC,IAAI,IAAK;EAAAC,EAAA;EAC/B,MAAM;IACJC,UAAU;IACVC,QAAQ;IACRC,QAAQ;IACRC,SAAS;IACTC,cAAc;IACdC,kBAAkB;IAClBC,kBAAkB;IAClBC,QAAQ;IACRC,OAAO;IACPC,cAAc;IACdC;EACF,CAAC,GAAGZ,IAAI;EAERN,SAAS,CAAC,MAAM;IACd,MAAMmB,MAAM,GAAGR,SAAS,CAACS,OAAO;IAEhC,MAAMC,MAAM,GAAGnB,MAAM,CAACoB,MAAM,CAAC;MAC3BC,OAAO,EAAEC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;MACpDN,MAAM,EAAEA,MAAM;MACdO,OAAO,EAAE;QACPC,KAAK,EAAEnB,UAAU,CAACoB,CAAC;QACnBC,MAAM,EAAErB,UAAU,CAACsB,CAAC;QACpBC,UAAU,EAAE,KAAK;QACjBC,UAAU,EAAE;MACd;IACF,CAAC,CAAC;IAEF,IAAI,CAACb,MAAM,CAACc,KAAK,EAAE;MACjBC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC;MACtC;IACF;IAEA/B,qBAAqB,CACnBe,MAAM,EACN;MAAEX,UAAU;MAAEO,QAAQ;MAAEC,OAAO;MAAEJ,cAAc;MAAEC,kBAAkB;MAAEC;IAAmB,CAC1F,CAAC;IAEDZ,MAAM,CAACkC,GAAG,CAACf,MAAM,CAAC;IAElB,OAAO,MAAM;MACXJ,cAAc,CAACG,OAAO,CAACiB,UAAU,CAAC,CAAC;MACnCnB,eAAe,CAACE,OAAO,CAACiB,UAAU,CAAC,CAAC;MACpCnC,MAAM,CAACoC,IAAI,CAACjB,MAAM,CAAC;MACnBlB,KAAK,CAACoC,KAAK,CAACpB,MAAM,CAACc,KAAK,CAAC;MACzBhC,MAAM,CAACsC,KAAK,CAACpB,MAAM,CAAC;MACpBE,MAAM,CAACmB,MAAM,CAACC,MAAM,CAAC,CAAC;MACtBpB,MAAM,CAACmB,MAAM,GAAG,IAAI;MACpBnB,MAAM,CAACqB,OAAO,GAAG,IAAI;IACvB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAACnC,EAAA,CApDIF,cAAc;AAsDpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}